# For extracting dataset:

Start of position.py
# TS_COL, ID_COL, COLOR_COL = "ts", "id", "color"
# X_COL, Y_COL, TH_COL      = "x", "y", "orientation"
# COLS = [TS_COL, ID_COL, COLOR_COL, X_COL, Y_COL, TH_COL]
# OUTPUT_FILE = "noisy-manual-filtered.csv"
# TARGET_SIZE = 1000

__init__
# self.data_collected = 0
# with open(OUTPUT_FILE, "w", newline="") as f:
#     writer = csv.DictWriter(f, COLS)
#     writer.writeheader()

refine
# if self.data_collected < TARGET_SIZE:
#     with open(OUTPUT_FILE, "a", newline="") as f:
#         writer = csv.DictWriter(f, COLS)
        
#         for y_robot in sorted(filtered_vision_data.yellow_robots, key=lambda r: r.id):
#             writer.writerow({
#                 TS_COL: filtered_vision_data.ts,
#                 ID_COL: y_robot.id,
#                 COLOR_COL: "yellow",
#                 X_COL: y_robot.x,
#                 Y_COL: y_robot.y,
#                 TH_COL: y_robot.orientation
#             })
            
#         # for b_robot in combined_vision_data.blue_robots:
#         #     writer.writerow({
#         #         TS_COL: combined_vision_data.ts,
#         #         ID_COL: b_robot.id,
#         #         COLOR_COL: "blue",
#         #         X_COL: b_robot.x,
#         #         Y_COL: b_robot.y,
#         #         TH_COL: b_robot.orientation
#         #     })
            
#         self.data_collected += 1


# For live testing:

__init__
# buffer_len = 1000
# initial_stream = np.zeros(buffer_len)
# initial_stream.fill(np.nan)
# self._delta_stream = deque(initial_stream, maxlen=buffer_len)
# self._last_coord = np.zeros(2)
# self._last_coord.fill(np.nan)
# self._x_stream = deque(initial_stream, maxlen=buffer_len)
# self._y_stream = deque(initial_stream, maxlen=buffer_len)

# self._app = QtWidgets.QApplication([])
# self._win = pg.GraphicsLayoutWidget()
# pg.setConfigOptions(antialias=True)
# plot = self._win.addPlot()
# plot.setXRange(0, buffer_len)
# plot.setYRange(0, 0.1)
# plot.setXRange(-4.5, 4.5)
# plot.setYRange(-3, 3)
# self._win.show()
# self._curve = plot.plot(pen='y')

refine
# try:
#     current_coord = np.array((
#         filtered_vision_data.yellow_robots[2].x,
#         filtered_vision_data.yellow_robots[2].y
#     ))
#     if not np.isnan(self._last_coord).any():
#         self._delta_stream.append(np.linalg.norm(current_coord - self._last_coord))
#     self._last_coord = current_coord
# except:
#     pass
# finally:
#     self._curve.setData(self._delta_stream)

# try:
#     self._x_stream.append(filtered_vision_data.yellow_robots[0].x)
#     self._y_stream.append(filtered_vision_data.yellow_robots[0].y)
# except:
#     pass
# finally:
#     self._curve.setData(self._x_stream, self._y_stream)

# QtWidgets.QApplication.processEvents()