[workspace]
name = "Utama"
channels = ["conda-forge"]
platforms = ["linux-64"]
version = "1.0.0"

[pypi-dependencies]
Utama = { path = ".", editable = true }
lenses = ">=1.2.0"
py-trees = ">=2.3.0"

[dependencies]  # shared deps
python = "3.11.*"
numpy = "==2.0.2"
pygame = "==2.6.1"
protobuf = "==3.20.2"
shapely = "==2.0.6"
gymnasium = "==1.0.0"
pyserial = "==3.5"
pytest = "==8.3.4"
ruff = ">=0.9.8"
pre-commit = ">=3.8.0"


[feature.robosim.dependencies]
python = "3.10.*"

[feature.robosim.pypi-dependencies]
rc-robosim = "<2"
numpy = "<=2.0.2"

[tasks]
lint = "ruff check ."
test = "pytest test/"
main = "python -m main"
replay = "python -m replay.replay_reader"
precommit-install = "pre-commit install && pixi run pre-commit install --hook-type pre-commit"
precommit-uninstall = "pre-commit uninstall"

[environments]
robosim = { features = ["robosim"], no-default-feature = true }


